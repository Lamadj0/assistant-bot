# Руководство по Assistant-Bot

Это руководство описывает, как настроить, запустить и использовать проект **Assistant-Bot**, который состоит из бэкенда на Go и фронтенда на React для взаимодействия с виртуальным ассистентом.

## Обзор проекта

Проект **Assistant-Bot** включает:

- **Бэкенд на Go**: Обрабатывает вопросы, генерирует ответы с помощью YandexGPT и сохраняет историю чата.
- **Фронтенд на React**: Предоставляет интерфейс для ввода вопросов, просмотра истории вопросов и ответов, а также очистки истории чата.

## Требования

- **Go 1.22+**
- **Node.js и npm** (для React)
- **API-ключ YandexGPT** (необходимо добавить в файл `.env`)

## Структура проекта

```bash
assistant-bot/
├── main.go           # Точка входа в приложение Go
├── pkg/
│   ├── ai/               # Логика для генерации ответов ИИ
│   ├── docparser/        # Логика парсинга документации
│   ├── handlers/         # HTTP-обработчики запросов
│   ├── middleware/       # CORS middleware
│   ├── models/           # Модели данных (Request, Response, QA и т.д.)
│   ├── storage/          # Логика для сохранения и загрузки данных QA
│   └── utils/            # Вспомогательные функции (например, извлечение ключевых слов)
├── hac/             # Фронтенд на React
│   ├── public/
│   └── src/
├── qa_data.json          # Хранит историю чата
├── .env                  # Переменные окружения (API_KEY)
└── go.mod                # Go модуль
```

## Настройка бэкенда (Go)

### 1. Клонирование репозитория

```bash
git clone https://github.com/Lamadj0/assistant_bot.git
cd assistant-bot
```
### 2. Установка зависимостей Go
Запустите следующую команду для установки всех необходимых модулей Go:

```bash
go mod tidy
```
### 3. Настройка переменных окружения
Создайте файл .env в корневой директории и добавьте свой API-ключ YandexGPT:
```
API_KEY=ваш_ключ_YandexGPT
```
### 4. Запуск бэкенда на Go
```bash
go run main.go
```
Сервер Go будет запущен на порту 8080. Вы можете взаимодействовать с API через следующие эндпоинты:

**POST /ask для отправки вопроса.**

**GET /history для получения истории вопросов и ответов.**

**POST /deleteqa для очистки истории чата.**

## Настройка фронтенда (React)
1. Получаем модули react
    ```bach
    cd hac 
    npm i
    ```
2. Запуск фронта
    ```bach
    npm start
    ```
3. После чего у вас запуститься сайт.

### Фронтенд будет доступен по адресу http://localhost:3000.

# Интерфейс фронтенда

Фронтенд на React предоставляет следующие возможности:

- **Поле для ввода вопроса**: Пользователь может вводить вопрос в текстовое поле.
- **Отправка вопроса**: Вопрос отправляется на сервер нажатием кнопки "Отправить" или клавиши Enter.
- **История чата**: Отображается список вопросов и ответов, заданных пользователем.
- **Кнопка очистки истории**: Позволяет удалить все предыдущие вопросы и ответы из чата.

## API эндпоинты

Бэкенд на Go предоставляет следующие REST API эндпоинты:

#### 1. `POST /ask`
- **Описание**: Отправка вопроса и получение ответа от ассистента.
- **Тело запроса**:
    ```json
    {
      "question": "ваш вопрос"
    }
    ```
- **Ответ**:
    ```json
    {
      "answer": "ответ ассистента",
      "images": []
    }
    ```

#### 2. `GET /history`
- **Описание**: Получение истории всех вопросов и ответов.
- **Ответ**:
    ```json
    [
      {
        "question": "...",
        "answer": "...",
        "images": []
      },
      ...
    ]
    ```

#### 3. `POST /deleteqa`
- **Описание**: Очистка истории вопросов и ответов.
- **Ответ**:
    ```json
    [
      // возвращает очищенный файл
    ]
    ```

## Заключение

Следуя этому руководству, вы сможете настроить и запустить проект `assistant-bot`, который включает бэкенд на Go и интерфейс на React. Вы сможете взаимодействовать с виртуальным ассистентом, задавая вопросы и получая ответы, а также управлять историей чата через удобный интерфейс.
